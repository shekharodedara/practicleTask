<mat-tab-group backgroundColor="accent" color="warn" (selectedTabChange)="onChange($event)">

  <mat-tab label="Home">

    <div align="center">
      <h1>Welcome to Home Page</h1>
    </div>

  </mat-tab>

  <mat-tab label="Student List">
    <div>
      <div align="center">
        <h1>Student List</h1>
      </div>
      <button (click)="add()">Add Student</button><br><br>
      <form [formGroup]="studentForm" (ngSubmit)="SubmitData(studentForm.value)" *ngIf="toggle">

        <input type="text" id="fullName" formControlName="fullName" placeholder="Enter FullName">
        <span *ngIf="(studentForm.controls['fullName'].touched && studentForm.controls['fullName'].errors?.['pattern'])
        || (studentForm.controls['fullName'].touched && studentForm.controls['fullName'].errors?.['maxlength'])"
          style="color: red;">Invalid fullname</span>
        <br><br>
        <input type="email" id="email" formControlName="email" placeholder="Enter Email">
        <span *ngIf="(studentForm.controls['email'].touched && studentForm.controls['email'].errors?.['email']) 
        || (studentForm.controls['email'].touched && studentForm.controls['email'].errors?.['pattern'])"
          style="color: red;">Invalid Email</span>
        <br><br>
        <input type="text" id="contact" formControlName="contact" placeholder="Enter contact">
        <span *ngIf="
        (studentForm.controls['contact'].touched && studentForm.controls['contact'].errors?.['minlength']) 
        || (studentForm.controls['contact'].touched && studentForm.controls['contact'].errors?.['pattern'])
        || (studentForm.controls['contact'].touched && studentForm.controls['contact'].errors?.['maxlength'])"
          style="color: red;">Invalid contact</span>
        <br><br>
        <input type="date" formControlName="dob" id="dob" max="{{today | date:'yyyy-MM-dd'}}"
          min="{{date95 | date:'yyyy-MM-dd'}}">
        <!-- <span *ngIf="studentForm.controls['dob'].touched && studentForm.controls['dob'].errors?.['required']" style="color: red;"> please enter date of birth</span> -->
        <br><br>
        <input type="text" formControlName="std" id="std" placeholder="Enter standard">
        <span *ngIf="studentForm.controls['std'].touched && studentForm.controls['std'].errors?.['pattern']"
          style="color: red;">Invalid standard</span>
        <br><br>
        <input type="text" formControlName="percentage" id="percentage" placeholder="Enter percentage">
        <span *ngIf="(studentForm.controls['percentage'].touched && studentForm.controls['percentage'].errors?.['min']) 
        || (studentForm.controls['percentage'].touched && studentForm.controls['percentage'].errors?.['max']) 
        || (studentForm.controls['percentage'].touched && studentForm.controls['percentage'].errors?.['pattern'])"
          style="color: red;">Invalid percentage</span>
        <br><br>

        <button type="submit" *ngIf="submit" [disabled]="!studentForm.valid" [hidden]="!submit">Submit</button>
        <button type="submit" *ngIf="!submit" [disabled]="!studentForm.valid" [hidden]="submit">Update</button>
      </form>
    </div><br><br>

    <input type="text" (keyup)="filterTable($event)"><br><br>

    <div class="mat-elevation-z8">
      <table mat-table [dataSource]="dataSource" matSort>
        <ng-container matColumnDef="fullName">
          <th mat-sort-header mat-header-cell *matHeaderCellDef> FullName </th>
          <td mat-cell *matCellDef="let element"> {{element.fullName}} </td>
        </ng-container>

        <ng-container matColumnDef="email">
          <th mat-sort-header mat-header-cell *matHeaderCellDef> Email </th>
          <td mat-cell *matCellDef="let element"> {{element.email}} </td>
        </ng-container>

        <ng-container matColumnDef="contact">
          <th mat-sort-header mat-header-cell *matHeaderCellDef>Contact</th>
          <td mat-cell *matCellDef="let element"> {{element.contact}} </td>
        </ng-container>

        <ng-container matColumnDef="dob">
          <th mat-sort-header mat-header-cell *matHeaderCellDef> Date of Birth </th>
          <td mat-cell *matCellDef="let element"> {{element.dob}}</td>
        </ng-container>

        <ng-container matColumnDef="std">
          <th mat-sort-header mat-header-cell *matHeaderCellDef> Standard </th>
          <td mat-cell *matCellDef="let element"> {{element.std}} </td>
        </ng-container>

        <ng-container matColumnDef="percentage">
          <th mat-sort-header mat-header-cell *matHeaderCellDef> Percentage </th>
          <td mat-cell *matCellDef="let element"> {{element.percentage}} </td>
        </ng-container>

        <ng-container matColumnDef="status">
          <th mat-sort-header mat-header-cell *matHeaderCellDef> Status </th>
          <td mat-cell *matCellDef="let element"> {{element.status}} </td>
        </ng-container>

        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef> Action</th>
          <td mat-cell *matCellDef="let element;index as i">
            <button type="button" id="up" (click)="update(i,element)" style="background-color: #2f80ed;color:white;margin-right: 7px;border-radius: 4px;border-style: none;font-size: 15px;font-weight: 500;padding: 3px 10px;
            font-family: system-ui,Arial,sans-serif;">Update</button>
            <button type="button" id="del" (click)="delete(i)" style=" background-color: rgb(248, 62, 62);color: white;
            border-radius: 4px;border-style: none;font-size: 15px;font-weight: 500;
            padding: 3px 14px;font-family: system-ui,Arial,sans-serif;">delete</button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      </table>
    </div>

  </mat-tab>

  <mat-tab label="Contact Us">
    <div align="center">
      <h1>Contact Us</h1>
    </div>
  </mat-tab>

  <mat-tab label="LogOut"></mat-tab>

</mat-tab-group>